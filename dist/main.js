!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function o(){let e=[],t=[],n=[];return{placeShip:function(t){e.push(function(e){let t=e;return{isSunk:function(){return 0==t.length},hit:function(e){t.indexOf(e)>-1&&t.splice(t.indexOf(e),1)},shipCoords:function(){return t}}}(t))},checkWin:()=>{for(let t in e)if(!e[t].isSunk())return!1;return!0},receiveAttack:function(o){for(let t in e)if(e[t].shipCoords().indexOf(o)>-1)return e[t].hit(o),void n.push(o);t.push(o)},misses:t,hits:n,ships:e}}function i(){let e=Array.from(Array(100).keys());return{attack:function(t,n){n.receiveAttack(t),e.splice(e.indexOf(t),1)},randomAttack:function(t){const n=Math.floor(Math.random()*e.length);t.receiveAttack(e[n]),e.splice(n,1)}}}function r(e,t,n){let o=[];for(let e in t.ships)o.push(t.ships[e].shipCoords());for(let t in e)for(let n in o)if(o[n].indexOf(e[t])>-1)return!1;return!(e[e.length-1]>99)&&!("x"==n&&e.length+e[0]%10>10)}n.r(t);const s=i(),l=i(),c=o(),d=o(),a=[5,4,3,3,2];let u,f;for(let e in a){for(f=1==Math.round(Math.random())?"x":"y",u=p(a[e],f);!r(u,d,f);)f=1==Math.round(Math.random())?"x":"y",u=p(a[e],f);d.placeShip(u),console.log(u)}function p(e,t){let n=Math.floor(100*Math.random()),o=[];for(let i=0;i<e;i++)"x"==t?o.push(n+i):o.push(n+10*i);return o}function h(){let e=document.getElementsByTagName("body")[0],t=e.cloneNode(!1);e.parentNode.replaceChild(t,e),e=document.getElementsByTagName("body")[0];let n=document.createElement("div");n.classList.add("screen");let o=document.createElement("div");o.classList.add("screen");for(let e=0;e<100;e++){let t=document.createElement("button");t.id="pcoord"+e,t.className="coords",c.hits.indexOf(e)>-1?t.classList.add("hit"):c.misses.indexOf(e)>-1&&t.classList.add("miss");let i=document.createElement("button");i.id="pcoord"+e,i.className="coords",d.hits.indexOf(e)>-1?i.classList.add("hit"):d.misses.indexOf(e)>-1?i.classList.add("miss"):i.onclick=function(){s.attack(e,d),d.checkWin()&&(h(),alert("You Win")),l.randomAttack(c),c.checkWin()?(h(),alert("You Lose")):h()},n.appendChild(t),o.appendChild(i)}e.appendChild(n),e.appendChild(o)}function m(e){let t=0;0==c.ships.length&&(t=5),1==c.ships.length&&(t=4),2==c.ships.length&&(t=3),3==c.ships.length&&(t=3),4==c.ships.length&&(t=2);let n=document.getElementsByTagName("body")[0],o=n.cloneNode(!1);n.parentNode.replaceChild(o,n),n=document.getElementsByTagName("body")[0];let i=document.createElement("div");i.classList.add("screen");let s=[];for(let e in c.ships)for(let t in c.ships[e].shipCoords())s.push(c.ships[e].shipCoords()[t]);console.log(s);for(let n=0;n<100;n++){let o=[],l=document.createElement("button");if(l.id="pcoord"+n,l.className="coords",s.indexOf(n)>-1)l.classList.add("hovership");else{for(let i=0;i<t;i++)"x"==e?o.push(n+i):o.push(n+10*i);r(o,c,e)&&(l.onmouseover=function(){for(let e in o)document.getElementById("pcoord"+o[e]).classList.add("hovership")},l.onmouseleave=function(){for(let e in o)document.getElementById("pcoord"+o[e]).classList.remove("hovership")},l.onclick=function(){c.placeShip(o),5==c.ships.length?h():m(e)})}i.appendChild(l)}n.appendChild(i)}window.onload=function(){let e="x";m(e),document.addEventListener("keydown",(function(t){38!=t.keyCode&&40!=t.keyCode||(e="x"==e?"y":"x",m(e))}))}}]);